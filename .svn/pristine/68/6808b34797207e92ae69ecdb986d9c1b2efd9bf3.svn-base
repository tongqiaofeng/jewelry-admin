{"remainingRequest":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\src\\components\\Stock-pending.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\src\\components\\Stock-pending.vue","mtime":1622790099298},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RvcmFnZUlkTGlzdDogW10sCiAgICAgIG1hdGVyaWFsTGlzdDogW10sCiAgICAgIG1hdGVyaWFsRmlsdGVyTGlzdDogW10sCiAgICAgIHdhcmVob3VzZUZhY3RvcnlMaXN0OiBbXSwKICAgICAgdGltZTogbnVsbCwKICAgICAga2V5d29yZDogJycsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlOiAxLAogICAgICBwYWdlTnVtOiA1LAogICAgICBzdG9ja1BlbmRpbmdMaXN0OiBbXSwKICAgICAgbGlzdFBhZ2U6IFtdLAoKICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAoKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE1hdGVyaWFsTGlzdCgpOwogICAgdGhpcy5nZXRTdG9ja01hdGVyaWFsTGlzdCgpOwogICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9tYXRlcmlhbFRyYW5zcG9ydExpc3QnLCB7CiAgICAgIHN0YXJ0U3RvcmFnZUlkTGlzdDogW10sCiAgICAgIHN0YXJ0VGltZTogJycsCiAgICAgIGVuZFRpbWU6ICcnLAogICAgICBrZXl3b3JkOiAnJwogICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCflvoXlhaXlupPliJfooagnKTsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy53YXJlaG91c2VGYWN0b3J5TGlzdCA9IHJlcy5kYXRhLndhcmVob3VzZUZhY3RvcnlMaXN0OwogICAgICB0aGlzLmdldFdhcmVob3VzZUxpc3QoKTsKICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc3RvY2tPdXQoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24pOwogICAgICBsZXQgbGlzdCA9IFtdOwogICAgICBmb3IgKGNvbnN0IGl0ZXJhdG9yIG9mIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24pIHsKICAgICAgICBsaXN0LnB1c2goaXRlcmF0b3IuaWQpOwogICAgICB9OwogICAgICBpZiAodGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyh7CiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5YWl5bqT5p2Q5paZJywKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9jaGVja01hdGVyaWFsJywgewogICAgICAgICAgaWRMaXN0OiBsaXN0CiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc29sZS5sb2coJ+WFpeW6kycpOwogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICflhaXlupPmiJDlip8nLAogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoID0gMDsKICAgICAgICAgIHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5tdWx0aXBsZVNlbGVjdGlvbik7CiAgICAgICAgICB0aGlzLmdldFN0b2NrTWF0ZXJpYWxMaXN0KCk7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGdldFJvd0tleXMocm93KSB7CiAgICAgIHJldHVybiByb3cuaWQKICAgIH0sCiAgICAvLyDpgInmi6nlhaXlupPmnZDmlpkKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgICAgY29uc29sZS5sb2codGhpcy5tdWx0aXBsZVNlbGVjdGlvbik7CiAgICB9LAogICAgLy8g6I635Y+W5b6F5YWl5bqT5YiX6KGoCiAgICBnZXRTdG9ja01hdGVyaWFsTGlzdCgpIHsKICAgICAgdGhpcy5zdG9ja1BlbmRpbmdMaXN0ID0gW107CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICcvbWF0ZXJpYWxUcmFuc3BvcnRMaXN0JywgewogICAgICAgIHN0YXJ0U3RvcmFnZUlkTGlzdDogdGhpcy5zdG9yYWdlSWRMaXN0LAogICAgICAgIHN0YXJ0VGltZTogdGhpcy50aW1lID09IG51bGwgPyAnJyA6IHRoaXMudGltZVswXSwKICAgICAgICBlbmRUaW1lOiB0aGlzLnRpbWUgPT0gbnVsbCA/ICcnIDogdGhpcy50aW1lWzFdLAogICAgICAgIGtleXdvcmQ6IHRoaXMua2V5d29yZCwKICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCflvoXlhaXlupPliJfooagnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzLmRhdGEud2FyZWhvdXNlRmFjdG9yeUxpc3QpIHsKICAgICAgICAgIHRoaXMuc3RvY2tQZW5kaW5nTGlzdCA9IHRoaXMuc3RvY2tQZW5kaW5nTGlzdC5jb25jYXQoaXRlbS5tYXRlcmlhbExpc3QpOwogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdG9ja1BlbmRpbmdMaXN0KTsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaPkOWPluS7k+W6ky/liqDlt6XljoLliJfooagKICAgIGdldFdhcmVob3VzZUxpc3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKCfku5PlupMv5Yqg5bel5Y6C5YiX6KGoJyk7CiAgICAgIHRoaXMubWF0ZXJpYWxGaWx0ZXJMaXN0ID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53YXJlaG91c2VGYWN0b3J5TGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMud2FyZWhvdXNlRmFjdG9yeUxpc3RbaV0pOwogICAgICAgIHRoaXMubWF0ZXJpYWxGaWx0ZXJMaXN0LnB1c2goewogICAgICAgICAgaWQ6IHRoaXMud2FyZWhvdXNlRmFjdG9yeUxpc3RbaV0uc3RvcmFnZUlkLAogICAgICAgICAgbmFtZTogdGhpcy53YXJlaG91c2VGYWN0b3J5TGlzdFtpXS5zdG9yYWdlTmFtZQogICAgICAgIH0pOwogICAgICB9OwogICAgICBjb25zb2xlLmxvZyh0aGlzLm1hdGVyaWFsRmlsdGVyTGlzdCk7CiAgICB9LAogICAga2V5d29yZENoYW5nZSgpIHsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgIH0sCiAgICAvLyDojrflj5bljp/mnZDmlpnlkI3np7DliJfooagKICAgIGdldE1hdGVyaWFsTGlzdCgpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9tYXRlcmlhbExpc3QnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+WOn+adkOaWmScpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy5tYXRlcmlhbExpc3QgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KQogICAgfSwKICAgIC8vIOWIhumhteWkhOeQhuaVsOaNrgogICAgZ2V0TGlzdCgpIHsKICAgICAgY29uc29sZS5sb2coJ+WIhumhteaVsOaNricpOwogICAgICB0aGlzLmxpc3RQYWdlID0gW107CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RvY2tQZW5kaW5nTGlzdCk7CiAgICAgIHRoaXMudG90YWwgPSB0aGlzLnN0b2NrUGVuZGluZ0xpc3QubGVuZ3RoOwogICAgICAvLyBlczbov4fmu6TlvpfliLDmu6HotrPmkJzntKLmnaHku7bnmoTlsZXnpLrmlbDmja5saXN0CiAgICAgIHRoaXMubGlzdFBhZ2UgPSB0aGlzLnN0b2NrUGVuZGluZ0xpc3QuZmlsdGVyKChpdGVtLCBpbmRleCkgPT4KICAgICAgICBpbmRleCA8IHRoaXMucGFnZSAqIHRoaXMucGFnZU51bSAmJiBpbmRleCA+PSB0aGlzLnBhZ2VOdW0gKiAodGhpcy5wYWdlIC0gMSkKICAgICAgKTsKICAgICAgY29uc29sZS5sb2codGhpcy5saXN0UGFnZSk7CiAgICB9LAogICAgLy8g5YiG6aG1CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5wYWdlID0gdmFsOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgKGZ1bmN0aW9uIHNtb290aHNjcm9sbCgpIHsKICAgICAgICBsZXQgY3VycmVudFNjcm9sbCA9CiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOwogICAgICAgIGlmIChjdXJyZW50U2Nyb2xsID4gMCkgewogICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzbW9vdGhzY3JvbGwpOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGN1cnJlbnRTY3JvbGwgLSBjdXJyZW50U2Nyb2xsIC8gNSk7CiAgICAgICAgfQogICAgICB9KSgpOwogICAgfSwKICB9Cn0K"},{"version":3,"sources":["Stock-pending.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Stock-pending.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"stock-pending-container\">\r\n    <!-- <h1>待入库</h1> -->\r\n    <div style=\"display:flex;justify-content: space-between;\">\r\n      <el-form :inline=\"true\" label-width=\"130px\">\r\n        <el-form-item label=\"收货仓库/加工厂：\">\r\n          <el-select v-model=\"storageIdList\" placeholder=\"可多选\" multiple @change=\"keywordChange\">\r\n            <el-option v-for=\"item in materialFilterList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"出库时间：\">\r\n          <el-date-picker v-model=\"time\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" clearable @change=\"keywordChange\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div style=\"display: flex;\">\r\n            <el-input style=\"width: 330px;\" v-model=\"keyword\" @change=\"keywordChange\" placeholder=\"可输入材料名称、统一编号、备注进行搜索\"\r\n              clearable>\r\n            </el-input>\r\n            <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"getStockMaterialList\">查 询</el-button>\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div>\r\n        <el-button type=\"primary\" @click=\"stockOut\">入 库</el-button>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <el-table style=\"width: 70%;\" ref=\"multipleTable\" :data=\"listPage\" :row-key=\"getRowKeys\" tooltip-effect=\"dark\"\r\n        border @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" :reserve-selection=\"true\" width=\"55\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"storageName\" label=\"仓库/加工厂\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"materialName\" label=\"材料名称\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"productNumber\" label=\"统一编号\">\r\n        </el-table-column>\r\n        <el-table-column label=\"单价\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <span>{{scope.row.unitPrice + ' ' + scope.row.currency}}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"发货总数量\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <span>{{scope.row.chargeUnit !== '粒' ? scope.row.number : scope.row.number + ' ' + scope.row.chargeUnit}}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"发货总重量\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <span>{{scope.row.chargeUnit == '粒' ? scope.row.weight : scope.row.weight + ' ' + scope.row.chargeUnit}}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div style=\"width: 100%;height: 50px;\">\r\n        <div style=\"margin:15px 0;position:absolute;right:32%;\">\r\n          <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n            layout=\"total, prev, pager, next, jumper\" :total=\"total\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        storageIdList: [],\r\n        materialList: [],\r\n        materialFilterList: [],\r\n        warehouseFactoryList: [],\r\n        time: null,\r\n        keyword: '',\r\n        total: 0,\r\n        page: 1,\r\n        pageNum: 5,\r\n        stockPendingList: [],\r\n        listPage: [],\r\n\r\n        multipleSelection: [],\r\n\r\n      }\r\n    },\r\n    created() {\r\n      this.getMaterialList();\r\n      this.getStockMaterialList();\r\n      this.$axios.post(this.$store.state.baseUrl + '/materialTransportList', {\r\n        startStorageIdList: [],\r\n        startTime: '',\r\n        endTime: '',\r\n        keyword: ''\r\n      }).then((res) => {\r\n        console.log('待入库列表');\r\n        console.log(res);\r\n        this.warehouseFactoryList = res.data.warehouseFactoryList;\r\n        this.getWarehouseList();\r\n      }).catch((err) => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    methods: {\r\n      stockOut() {\r\n        console.log(this.multipleSelection);\r\n        let list = [];\r\n        for (const iterator of this.multipleSelection) {\r\n          list.push(iterator.id);\r\n        };\r\n        if (this.multipleSelection.length == 0) {\r\n          this.$message.warning({\r\n            message: '请选择入库材料',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n        } else {\r\n          this.$axios.post(this.$store.state.baseUrl + '/checkMaterial', {\r\n            idList: list\r\n          }).then(res => {\r\n            console.log('入库');\r\n            console.log(res);\r\n            this.$message.success({\r\n              message: '入库成功',\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.multipleSelection.length = 0;\r\n            this.$refs.multipleTable.clearSelection();\r\n            console.log(this.multipleSelection);\r\n            this.getStockMaterialList();\r\n          }).catch(err => {\r\n            console.log(err);\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n          })\r\n        }\r\n      },\r\n      getRowKeys(row) {\r\n        return row.id\r\n      },\r\n      // 选择入库材料\r\n      handleSelectionChange(val) {\r\n        this.multipleSelection = val;\r\n        console.log(this.multipleSelection);\r\n      },\r\n      // 获取待入库列表\r\n      getStockMaterialList() {\r\n        this.stockPendingList = [];\r\n        this.$axios.post(this.$store.state.baseUrl + '/materialTransportList', {\r\n          startStorageIdList: this.storageIdList,\r\n          startTime: this.time == null ? '' : this.time[0],\r\n          endTime: this.time == null ? '' : this.time[1],\r\n          keyword: this.keyword,\r\n          page: this.page,\r\n          pageNum: this.pageNum\r\n        }).then((res) => {\r\n          console.log('待入库列表');\r\n          console.log(res);\r\n          this.total = res.data.total;\r\n          for (const item of res.data.warehouseFactoryList) {\r\n            this.stockPendingList = this.stockPendingList.concat(item.materialList);\r\n          };\r\n          console.log(this.stockPendingList);\r\n          this.getList();\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 提取仓库/加工厂列表\r\n      getWarehouseList() {\r\n        console.log('仓库/加工厂列表');\r\n        this.materialFilterList = [];\r\n        for (let i = 0; i < this.warehouseFactoryList.length; i++) {\r\n          // console.log(this.warehouseFactoryList[i]);\r\n          this.materialFilterList.push({\r\n            id: this.warehouseFactoryList[i].storageId,\r\n            name: this.warehouseFactoryList[i].storageName\r\n          });\r\n        };\r\n        console.log(this.materialFilterList);\r\n      },\r\n      keywordChange() {\r\n        this.page = 1;\r\n      },\r\n      // 获取原材料名称列表\r\n      getMaterialList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/materialList').then(res => {\r\n          console.log('原材料');\r\n          console.log(res);\r\n          this.materialList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 分页处理数据\r\n      getList() {\r\n        console.log('分页数据');\r\n        this.listPage = [];\r\n        console.log(this.stockPendingList);\r\n        this.total = this.stockPendingList.length;\r\n        // es6过滤得到满足搜索条件的展示数据list\r\n        this.listPage = this.stockPendingList.filter((item, index) =>\r\n          index < this.page * this.pageNum && index >= this.pageNum * (this.page - 1)\r\n        );\r\n        console.log(this.listPage);\r\n      },\r\n      // 分页\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.page = val;\r\n        this.getList();\r\n        (function smoothscroll() {\r\n          let currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .stock-pending-container {\r\n    padding: 20px;\r\n    background-color: #fff;\r\n    border-radius: 6px;\r\n    text-align: left;\r\n  }\r\n</style>"]}]}