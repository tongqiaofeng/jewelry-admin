{"remainingRequest":"G:\\aa-tong\\my-project\\jewelry-admin\\node_modules\\thread-loader\\dist\\cjs.js!G:\\aa-tong\\my-project\\jewelry-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\aa-tong\\my-project\\jewelry-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\aa-tong\\my-project\\jewelry-admin\\src\\main.js","dependencies":[{"path":"G:\\aa-tong\\my-project\\jewelry-admin\\src\\main.js","mtime":1638865066900},{"path":"G:\\aa-tong\\my-project\\jewelry-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\aa-tong\\my-project\\jewelry-admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\aa-tong\\my-project\\jewelry-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\aa-tong\\my-project\\jewelry-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgIkc6XFxhYS10b25nXFxteS1wcm9qZWN0XFxqZXdlbHJ5LWFkbWluXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJHOlxcYWEtdG9uZ1xcbXktcHJvamVjdFxcamV3ZWxyeS1hZG1pblxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJHOlxcYWEtdG9uZ1xcbXktcHJvamVjdFxcamV3ZWxyeS1hZG1pblxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5vYmplY3QuYXNzaWduLmpzIjsKaW1wb3J0ICJHOlxcYWEtdG9uZ1xcbXktcHJvamVjdFxcamV3ZWxyeS1hZG1pblxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmZpbmFsbHkuanMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBBcHAgZnJvbSAiLi9BcHAudnVlIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuL3JvdXRlciI7CmltcG9ydCBzdG9yZSBmcm9tICIuL3N0b3JlIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8gY3Nz5qC35byP6L+Y5piv6ZyA6KaB5YWo6YOo5byV5YWlCgppbXBvcnQgJ2VsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2luZGV4LmNzcyc7CmltcG9ydCBlbGVtZW50IGZyb20gJy4vZWxlbWVudC9pbmRleCc7IC8vIOWkp+WbvgovLyDngrnlh7vmn6XnnIvlpKflm74KCmltcG9ydCB2dWVEaXJlY3RpdmVJbWFnZVByZXZpZXdlciBmcm9tICd2dWUtZGlyZWN0aXZlLWltYWdlLXByZXZpZXdlcic7CmltcG9ydCAndnVlLWRpcmVjdGl2ZS1pbWFnZS1wcmV2aWV3ZXIvZGlzdC9hc3NldHMvc3R5bGUuY3NzJzsKVnVlLnVzZSh2dWVEaXJlY3RpdmVJbWFnZVByZXZpZXdlcik7IC8vIOWFqOWxgOWHveaVsAoKaW1wb3J0IGZ1bmN0aW9ucyBmcm9tICcuL3V0aWxzL2dsb2JhbEZ1bmN0aW9ucy5qcyc7IC8vIOmYsuatoumHjeWkjeeCueWHuwoKaW1wb3J0IHByZXZlbnRDbGljayBmcm9tICcuL3V0aWxzL2NsaWNrU3RhdGVmcm9tJzsKVnVlLnVzZShlbGVtZW50KTsKVnVlLnVzZShmdW5jdGlvbnMpOwpWdWUudXNlKHByZXZlbnRDbGljayk7ClZ1ZS5jb25maWcucHJvZHVjdGlvblRpcCA9IGZhbHNlOwpWdWUucHJvdG90eXBlLiRheGlvcyA9IGF4aW9zOyAvLyDot6/nlLHlrojljasKCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tZXRhLnRpdGxlKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IHRvLm1ldGEudGl0bGU7CiAgfQoKICB2YXIgdHlwZSA9IHRvLm1ldGEudHlwZTsgLy8g5Yik5pat6K+l6Lev55Sx5piv5ZCm6ZyA6KaB55m75b2V5p2D6ZmQCgogIGlmICh0eXBlID09PSAnbG9naW4nKSB7CiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSkgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCcvJyk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsgLy8g56Gu5L+d5LiA5a6a6KaB5pyJbmV4dCgp6KKr6LCD55SoCiAgfQoKICB2YXIgYWxsb3dCYWNrID0gZmFsc2U7IC8vICAgIOe7meS4qum7mOiupOWAvHRydWUKCiAgaWYgKHRvLm1ldGEuYWxsb3dCYWNrICE9PSB1bmRlZmluZWQpIHsKICAgIGFsbG93QmFjayA9IHRvLm1ldGEuYWxsb3dCYWNrOwogIH0KCiAgaWYgKCFhbGxvd0JhY2spIHsKICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIGxvY2F0aW9uLmhyZWYpOwogIH0KCiAgc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZUFwcFNldHRpbmcnLCB7CiAgICAvLyAgIHVwZGF0ZUFwcFNldHRpbmcg5Y+q5pivc3RvcmXph4zpnaLnmoTkuIDkuKphY3Rpb27vvIwg55So5p2l5pS55Y+Yc3RvcmXph4znmoRhbGxvd0JhY2vnmoTlgLznmoTvvIzlhbfkvZPmgI7kuYjmlLnov5nkuKrlgLwg6KaB5qC55o2u5ZCE5L2N55qE5a6e6ZmF5oOF5Ya16ICM5a6aCiAgICBhbGxvd0JhY2s6IGFsbG93QmFjawogIH0pOwp9KTsgLy8gaHR0cCDor7fmsYLmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5Zyo5Y+R6YCB6K+35rGC5YmNCiAgLy8gY29uc29sZS5sb2cobG9jYXRpb24pOwogIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lOyAvLyBjb25zb2xlLmxvZyhwYXRobmFtZSk7CgogIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKSB7CiAgICBpZiAocGF0aG5hbWUgIT09ICcjLycgJiYgcGF0aG5hbWUgIT09ICcjL2xvZ2luJykgewogICAgICBjb25maWcuaGVhZGVycy5jb21tb25bJ3Rva2VuJ10gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgfQogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICBzd2l0Y2ggKGVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICBjYXNlIDQwMToKICAgICAgICAvLyDov5nph4zlhpnmuIXpmaR0b2tlbueahOS7o+eggQogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgbnVsbCk7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgicm9sZSIsIG51bGwpOwogICAgICAgIGNvbnNvbGUubG9nKHJvdXRlci5jdXJyZW50Um91dGUuZnVsbFBhdGgpOwogICAgICAgIHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgIHBhdGg6ICcvbG9naW4nLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgcmVkaXJlY3Q6IHJvdXRlci5jdXJyZW50Um91dGUuZnVsbFBhdGggLy/nmbvlvZXmiJDlip/lkI7ot7PlhaXmtY/op4jnmoTlvZPliY3pobXpnaIKCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UpOwp9KTsKbmV3IFZ1ZSh7CiAgcm91dGVyOiByb3V0ZXIsCiAgc3RvcmU6IHN0b3JlLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKEFwcCk7CiAgfQp9KS4kbW91bnQoIiNhcHAiKTs="},{"version":3,"sources":["G:/aa-tong/my-project/jewelry-admin/src/main.js"],"names":["Vue","App","router","store","axios","element","vueDirectiveImagePreviewer","use","functions","preventClick","config","productionTip","prototype","$axios","beforeEach","to","from","next","meta","title","document","type","sessionStorage","getItem","allowBack","undefined","history","pushState","location","href","dispatch","interceptors","request","pathname","headers","common","err","Promise","reject","response","error","status","setItem","console","log","currentRoute","fullPath","replace","path","query","redirect","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from \"vue\"\r\nimport App from \"./App.vue\"\r\nimport router from \"./router\"\r\nimport store from \"./store\"\r\nimport axios from 'axios'\r\n\r\n// css样式还是需要全部引入\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport element from './element/index'\r\n\r\n// 大图\r\n// 点击查看大图\r\nimport vueDirectiveImagePreviewer from 'vue-directive-image-previewer'\r\nimport 'vue-directive-image-previewer/dist/assets/style.css'\r\n\r\nVue.use(vueDirectiveImagePreviewer)\r\n\r\n// 全局函数\r\nimport functions from './utils/globalFunctions.js'\r\n\r\n// 防止重复点击\r\nimport preventClick from './utils/clickStatefrom'\r\n\r\n\r\nVue.use(element)\r\nVue.use(functions)\r\nVue.use(preventClick)\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.prototype.$axios = axios\r\n\r\n// 路由守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.meta.title) {\r\n    document.title = to.meta.title\r\n  }\r\n  const type = to.meta.type\r\n  // 判断该路由是否需要登录权限\r\n  if (type === 'login') {\r\n    if (sessionStorage.getItem(\"token\")) {\r\n      next()\r\n    } else {\r\n      next('/')\r\n    }\r\n  } else {\r\n    next() // 确保一定要有next()被调用\r\n  }\r\n\r\n  let allowBack = false //    给个默认值true\r\n  if (to.meta.allowBack !== undefined) {\r\n    allowBack = to.meta.allowBack\r\n  }\r\n  if (!allowBack) {\r\n    history.pushState(null, null, location.href)\r\n  }\r\n  store.dispatch('updateAppSetting', { //   updateAppSetting 只是store里面的一个action， 用来改变store里的allowBack的值的，具体怎么改这个值 要根据各位的实际情况而定\r\n    allowBack: allowBack\r\n  })\r\n})\r\n\r\n// http 请求拦截器\r\naxios.interceptors.request.use(config => {\r\n  // 在发送请求前\r\n  // console.log(location);\r\n  let pathname = location.pathname\r\n  // console.log(pathname);\r\n  if (sessionStorage.getItem('token')) {\r\n    if (pathname !== '#/' && pathname !== '#/login') {\r\n      config.headers.common['token'] = sessionStorage.getItem('token')\r\n    }\r\n  }\r\n\r\n  return config\r\n}, err => {\r\n  return Promise.reject(err)\r\n})\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(\r\n  response => {\r\n    return response\r\n  },\r\n  error => {\r\n    if (error.response) {\r\n      switch (error.response.status) {\r\n        case 401:\r\n          // 这里写清除token的代码\r\n          sessionStorage.setItem(\"token\", null)\r\n          sessionStorage.setItem(\"role\", null)\r\n          console.log(router.currentRoute.fullPath)\r\n          router.replace({\r\n            path: '/login',\r\n            query: {\r\n              redirect: router.currentRoute.fullPath //登录成功后跳入浏览的当前页面\r\n            }\r\n          })\r\n      }\r\n    }\r\n    return Promise.reject(error.response)\r\n  }\r\n)\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount(\"#app\")"]}]}