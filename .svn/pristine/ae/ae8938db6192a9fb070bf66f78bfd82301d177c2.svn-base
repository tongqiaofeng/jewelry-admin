{"remainingRequest":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\src\\components\\User-admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\src\\components\\User-admin.vue","mtime":1616744105925},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\jewelry\\a\\jewelry-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckZvcm1EYXRhOiB7CiAgICAgICAgbmljazogJycsCiAgICAgICAgdXNlcjogJycsCiAgICAgICAgcHN3OiAnJywKICAgICAgICB3YXJlaG91c2VJZExpc3Q6IFtdLAogICAgICAgIGlzQWRtaW46IGZhbHNlLAogICAgICB9LAogICAgICBwcm9wc01lbnU6IHsKICAgICAgICBjaGVja1N0cmljdGx5OiB0cnVlLAogICAgICAgIGVtaXRQYXRoOiBmYWxzZSwKICAgICAgICB2YWx1ZTogJ2lkJywKICAgICAgICBsYWJlbDogJ2xhYmVsJwogICAgICB9LAogICAgICB1c2VyUnVsZXM6IHsKICAgICAgICBuaWNrOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5aeT5ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHVzZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgIH0sCgogICAgICBzdGFmZkxpc3Q6IFtdLAogICAgICB1c2VyRGV0YWlsczoge30sCiAgICAgIHVwZGF0ZURldGFpbDoge30sCiAgICAgIGRpYWxvZ1VzZXJVcGRhdGVWaXNpYmxlOiBmYWxzZSwKICAgICAgZGVsZXRlRGV0YWlsOiB7fSwKICAgICAgZGlhbG9nVXNlckRlbGV0ZVZpc2libGU6IGZhbHNlLAoKICAgICAgc3RvcmFnZUxpc3Q6IFtdLAoKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFdhcmVob3VzZUZhY3RvcnlMaXN0KCk7CiAgICB0aGlzLmdldFN0YWZmTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5paw5aKe55So5oi3CiAgICB1c2VyQWRkKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9zdGFmZlNhdmUnLCB7CiAgICAgICAgICAgIG5pY2s6IHRoaXMudXNlckZvcm1EYXRhLm5pY2ssCiAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlckZvcm1EYXRhLnVzZXIsCiAgICAgICAgICAgIHBzdzogdGhpcy51c2VyRm9ybURhdGEucHN3LAogICAgICAgICAgICB3YXJlaG91c2VJZExpc3Q6IHRoaXMudXNlckZvcm1EYXRhLndhcmVob3VzZUlkTGlzdCwKICAgICAgICAgICAgaXNBZG1pbjogdGhpcy51c2VyRm9ybURhdGEuaXNBZG1pbiA9PSBmYWxzZSA/IDAgOiAxLAogICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmlrDlop7lkZjlt6UnKTsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5YqfJywKICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXNlckZvcm1EYXRhLm5pY2sgPSAnJzsKICAgICAgICAgICAgdGhpcy51c2VyRm9ybURhdGEudXNlciA9ICcnOwogICAgICAgICAgICB0aGlzLnVzZXJGb3JtRGF0YS5wc3cgPSAnJzsKICAgICAgICAgICAgdGhpcy51c2VyRm9ybURhdGEud2FyZWhvdXNlSWRMaXN0ID0gJyc7CiAgICAgICAgICAgIHRoaXMudXNlckZvcm1EYXRhLmlzQWRtaW4gPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5nZXRTdGFmZkxpc3QoKTsKICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDkv67mlLkKICAgIHVzZXJVcGRhdGUodmFsKSB7CiAgICAgIHRoaXMudXBkYXRlRGV0YWlsID0gdmFsOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnVwZGF0ZURldGFpbCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXBkYXRlRGV0YWlsLndhcmVob3VzZUZhY3RvcnlJZExpc3QpOwogICAgICB0aGlzLnVwZGF0ZURldGFpbC5pc0FkbWluID0gdGhpcy51cGRhdGVEZXRhaWwuaXNBZG1pbiA9PSAwID8gZmFsc2UgOiB0cnVlOwogICAgICB0aGlzLmRpYWxvZ1VzZXJVcGRhdGVWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnoa7lrprkv67mlLkKICAgIHVzZXJVcGRhdGVTdXJlKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N0YWZmU2F2ZScsIHsKICAgICAgICBpZDogdGhpcy51cGRhdGVEZXRhaWwuaWQsCiAgICAgICAgbmljazogdGhpcy51cGRhdGVEZXRhaWwubmljaywKICAgICAgICB1c2VyOiB0aGlzLnVwZGF0ZURldGFpbC51c2VyLAogICAgICAgIHBzdzogdGhpcy51cGRhdGVEZXRhaWwucHN3LAogICAgICAgIHdhcmVob3VzZUlkTGlzdDogdGhpcy51cGRhdGVEZXRhaWwud2FyZWhvdXNlRmFjdG9yeUlkTGlzdCwKICAgICAgICBpc0FkbWluOiB0aGlzLnVwZGF0ZURldGFpbC5pc0FkbWluID09IGZhbHNlID8gMCA6IDEsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfkv67mlLnlkZjlt6UnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICBtZXNzYWdlOiAn5L+u5pS55oiQ5YqfJywKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5nZXRTdGFmZkxpc3QoKTsKICAgICAgICB0aGlzLmRpYWxvZ1VzZXJVcGRhdGVWaXNpYmxlID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogZXJyLmRhdGEubWVzc2FnZSwKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5kaWFsb2dVc2VyVXBkYXRlVmlzaWJsZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIHVzZXJEZWxldGUodmFsKSB7CiAgICAgIHRoaXMuZGVsZXRlRGV0YWlsID0gdmFsOwogICAgICB0aGlzLmRpYWxvZ1VzZXJEZWxldGVWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnoa7lrprliKDpmaQKICAgIHVzZXJEZWxldGVTdXJlKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N0YWZmRGVsZXRlJywgewogICAgICAgIGlkOiB0aGlzLmRlbGV0ZURldGFpbC5pZAogICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygn5Yig6Zmk5ZGY5belJyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICAgIHRoaXMuZ2V0U3RhZmZMaXN0KCk7CiAgICAgICAgdGhpcy5kaWFsb2dVc2VyRGVsZXRlVmlzaWJsZSA9IGZhbHNlOwogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyci5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlhbG9nVXNlckRlbGV0ZVZpc2libGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCJ5oup55So5oi3CiAgICB1c2VyQ2hhbmdlKHZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsKICAgIH0sCiAgICAvLyDojrflj5blkZjlt6XliJfooagKICAgIGdldFN0YWZmTGlzdCgpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9zdGFmZkxpc3QnKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygn5ZGY5bel5YiX6KGoJyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLnN0YWZmTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5LuT5bqTL+WKoOW3peWOguWIl+ihqAogICAgZ2V0V2FyZWhvdXNlRmFjdG9yeUxpc3QoKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICcvd2FyZWhvdXNlRmFjdG9yeUxpc3QnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+S7k+W6ky/liqDlt6XljoInKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuc3RvcmFnZUxpc3QgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["User-admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User-admin.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"user-admin-container\" id=\"user-admin\">\r\n    <!-- <h1>用户管理</h1> -->\r\n    <div class=\"user-edit\">\r\n      <el-form label-position=\"right\" :model=\"userFormData\" :rules=\"userRules\" ref=\"userForm\" label-width=\"130px\"\r\n        class=\"demo-ruleForm\">\r\n        <el-form-item label=\"姓名：\" prop=\"nick\">\r\n          <el-input v-model=\"userFormData.nick\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名：\" prop=\"user\">\r\n          <el-input v-model=\"userFormData.user\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码：\" prop=\"psw\">\r\n          <el-input v-model=\"userFormData.psw\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"管辖仓库/加工厂：\" prop=\"warehouseIdList\">\r\n          <el-select v-model=\"userFormData.warehouseIdList\" multiple placeholder=\"可多选\">\r\n            <el-option v-for=\"item in storageList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"系统管理员权限：\">\r\n          <el-switch v-model=\"userFormData.isAdmin\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"></el-switch>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div style=\"margin-right: 30px;text-align: right;\">\r\n            <el-button type=\"primary\" @click=\"userAdd('userForm')\" v-preventClick>+ 新 建</el-button>\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"user-table\">\r\n      <!-- @current-change=\"userChange\" -->\r\n      <el-table :data=\"staffList\" style=\"width: 100%\" border row-key=\"id\" highlight-current-row>\r\n        <el-table-column prop=\"nick\" label=\"姓名\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"user\" label=\"用户名\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"warehouseFactoryName\" label=\"管辖仓库/加工厂\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <p style=\"margin: 0;\" v-for=\"(ware,index) in scope.row.warehouseFactoryName.split('|')\" :key=\"index\">\r\n                {{ware}}</p>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"120px\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"cell-work\">\r\n              <el-button type=\"text\" @click=\"userUpdate(scope.row)\">\r\n                修改\r\n              </el-button>\r\n              <el-dialog title=\"修改员工信息\" :visible.sync=\"dialogUserUpdateVisible\" :close-on-press-escape=\"false\"\r\n                :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"true\">\r\n                <el-form label-width=\"130px\" label-position=\"left\" id=\"update\">\r\n                  <el-form-item label=\"姓名：\" prop=\"nick\">\r\n                    <el-input v-model=\"updateDetail.nick\" clearable class=\"input-style\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"用户名：\" prop=\"user\">\r\n                    <el-input v-model=\"updateDetail.user\" clearable class=\"input-style\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"密码：\" prop=\"psw\">\r\n                    <el-input v-model=\"updateDetail.psw\" clearable class=\"input-style\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"管辖仓库/加工厂：\" prop=\"warehouseFactoryIdList\">\r\n                    <el-select v-model=\"updateDetail.warehouseFactoryIdList\" multiple placeholder=\"可多选\">\r\n                      <el-option v-for=\"item in storageList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"系统管理员权限：\">\r\n                    <el-switch v-model=\"updateDetail.isAdmin\" active-color=\"#13ce66\" inactive-color=\"#ff4949\">\r\n                    </el-switch>\r\n                  </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\">\r\n                  <el-button @click=\"dialogUserUpdateVisible = false\">取 消</el-button>\r\n                  <el-button type=\"primary\" @click=\"userUpdateSure\" v-preventClick>确 定</el-button>\r\n                </div>\r\n              </el-dialog>\r\n              <el-button type=\"text\" style=\"margin-left: 15px;color: red;\" @click=\"userDelete(scope.row)\">删除\r\n              </el-button>\r\n              <el-dialog title=\"删除员工\" :visible.sync=\"dialogUserDeleteVisible\" :close-on-press-escape=\"false\"\r\n                :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"true\">\r\n                <div style=\"text-align: center;\">\r\n                  <p style=\"margin-top: 10px;margin-bottom: 0;font-size: 16px;color: #4e4e4e;\">确定删除该员工？删除后不可修改</p>\r\n                </div>\r\n                <div slot=\"footer\">\r\n                  <el-button @click=\"dialogUserDeleteVisible = false\">取 消</el-button>\r\n                  <el-button type=\"primary\" @click=\"userDeleteSure\" v-preventClick>确 定</el-button>\r\n                </div>\r\n              </el-dialog>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        userFormData: {\r\n          nick: '',\r\n          user: '',\r\n          psw: '',\r\n          warehouseIdList: [],\r\n          isAdmin: false,\r\n        },\r\n        propsMenu: {\r\n          checkStrictly: true,\r\n          emitPath: false,\r\n          value: 'id',\r\n          label: 'label'\r\n        },\r\n        userRules: {\r\n          nick: [{\r\n            required: true,\r\n            message: '请输入姓名',\r\n            trigger: 'blur'\r\n          }],\r\n          user: [{\r\n            required: true,\r\n            message: '请输入用户名',\r\n            trigger: 'blur'\r\n          }],\r\n        },\r\n\r\n        staffList: [],\r\n        userDetails: {},\r\n        updateDetail: {},\r\n        dialogUserUpdateVisible: false,\r\n        deleteDetail: {},\r\n        dialogUserDeleteVisible: false,\r\n\r\n        storageList: [],\r\n\r\n      }\r\n    },\r\n    created() {\r\n      this.getWarehouseFactoryList();\r\n      this.getStaffList();\r\n    },\r\n    methods: {\r\n      // 新增用户\r\n      userAdd(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.$axios.post(this.$store.state.baseUrl + '/staffSave', {\r\n              nick: this.userFormData.nick,\r\n              user: this.userFormData.user,\r\n              psw: this.userFormData.psw,\r\n              warehouseIdList: this.userFormData.warehouseIdList,\r\n              isAdmin: this.userFormData.isAdmin == false ? 0 : 1,\r\n            }).then((res) => {\r\n              console.log('新增员工');\r\n              console.log(res);\r\n              this.$message.success({\r\n                message: '添加成功',\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n              this.userFormData.nick = '';\r\n              this.userFormData.user = '';\r\n              this.userFormData.psw = '';\r\n              this.userFormData.warehouseIdList = '';\r\n              this.userFormData.isAdmin = false;\r\n              this.getStaffList();\r\n            }).catch((err) => {\r\n              console.log(err);\r\n              this.$message.error({\r\n                message: err.data.message,\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n            });\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      // 修改\r\n      userUpdate(val) {\r\n        this.updateDetail = val;\r\n        console.log(this.updateDetail);\r\n        console.log(this.updateDetail.warehouseFactoryIdList);\r\n        this.updateDetail.isAdmin = this.updateDetail.isAdmin == 0 ? false : true;\r\n        this.dialogUserUpdateVisible = true;\r\n      },\r\n      // 确定修改\r\n      userUpdateSure() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/staffSave', {\r\n          id: this.updateDetail.id,\r\n          nick: this.updateDetail.nick,\r\n          user: this.updateDetail.user,\r\n          psw: this.updateDetail.psw,\r\n          warehouseIdList: this.updateDetail.warehouseFactoryIdList,\r\n          isAdmin: this.updateDetail.isAdmin == false ? 0 : 1,\r\n        }).then((res) => {\r\n          console.log('修改员工');\r\n          console.log(res);\r\n          this.$message.success({\r\n            message: '修改成功',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.getStaffList();\r\n          this.dialogUserUpdateVisible = false;\r\n        }).catch((err) => {\r\n          console.log(err);\r\n          this.$message.error({\r\n            message: err.data.message,\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.dialogUserUpdateVisible = false;\r\n        });\r\n      },\r\n      // 删除\r\n      userDelete(val) {\r\n        this.deleteDetail = val;\r\n        this.dialogUserDeleteVisible = true;\r\n      },\r\n      // 确定删除\r\n      userDeleteSure() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/staffDelete', {\r\n          id: this.deleteDetail.id\r\n        }).then((res) => {\r\n          console.log('删除员工');\r\n          console.log(res);\r\n          this.$message.success({\r\n            message: '删除成功',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.getStaffList();\r\n          this.dialogUserDeleteVisible = false;\r\n        }).catch((err) => {\r\n          console.log(err);\r\n          this.$message.error({\r\n            message: err.data.message,\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.dialogUserDeleteVisible = false;\r\n        });\r\n      },\r\n      // 选择用户\r\n      userChange(value) {\r\n        console.log(value);\r\n      },\r\n      // 获取员工列表\r\n      getStaffList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/staffList').then((res) => {\r\n          console.log('员工列表');\r\n          console.log(res);\r\n          this.staffList = res.data;\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 获取仓库/加工厂列表\r\n      getWarehouseFactoryList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/warehouseFactoryList').then(res => {\r\n          console.log('仓库/加工厂');\r\n          console.log(res);\r\n          this.storageList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .user-admin-container {\r\n    display: flex;\r\n\r\n    .user-edit {\r\n      width: 510px;\r\n      padding: 10px;\r\n      background-color: #fff;\r\n      border-radius: 6px;\r\n    }\r\n\r\n\r\n    .user-table {\r\n      width: 610px;\r\n      margin-left: 15px;\r\n      padding: 10px;\r\n      background-color: #fff;\r\n      border-radius: 6px;\r\n    }\r\n  }\r\n\r\n  .input-style {\r\n    width: 100%;\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  #user-admin {\r\n    .el-form-item__content {\r\n      text-align: left;\r\n    }\r\n\r\n    .el-select {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  #update {\r\n    .el-select {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>"]}]}